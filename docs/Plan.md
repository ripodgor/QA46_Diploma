# План автоматизации
В рамках настоящего проекта планируется осуществить автоматизацию тестирования комплексного сервиса для покупки тура, взаимодействующего с СУБД и API банка.\
В качестве тестируемых страниц, для которых разработан план автоматизации, выбраны страницы оплаты Payment Gate и Credit Gate
## Автоматизированные сценарии
### Тестируемые элементы:
1. Кнопка "Купить"
2. Кнопка "Купить в кредит"
3. Поле "Номер карты"
4. Поле "Месяц"
5. Поле "Год"
6. Поле "Владелец"
7. Поле "CVC/CVV"
### Описание валидных данных
1. Для банковских карт РФ используется номер, состоящий из 16 цифр. При этом для тестирования предоставлено два номера:
* APPROVED карта - 4444 4444 4444 4441
* DECLINED карта -  4444 4444 4444 4442
2. В поле "Месяц" вносятся порядковые номера месяцев года в формате "мм" (от 01 до 12). Месяц и год истечения срока действия карты в совокупности не должны указывать на истекшую дату
3. Поле "Год" заполняется в формате "гг" - две последние цифры года истечения срока действия карты (например 23, 24)
4. Поле "Владелец" заполняется латинскими буквами и пробелами. В соответствии с требованиями международного стандарта ISO/IEC 7813 длина поля должна составлять 2-26 знаков, включая пробелы (некоторые банки ограничивают число знаков, объясняя это техническими возможностями). Пример валидных данных - Roman Podgornyi
5. Поле "CVC/CVV" заполняется трехзначным цифровым кодом, например 999
### Позитивный сценарий для форм "Оплата по карте" и "Кредит по данным карты"
1. Корректная загрузка формы "Оплата по карте". **Ожидаемый результат:** Во вкладке "Купить" появилась форма для заполнения с заголовком "Оплата по карте"
3. Обычная оплата по дебетовой карте со статусом "APPROVED" и, введенными в форму, валидными значениями. **Ожидаемый результат:** появление в браузере информационного сообщения "Успешно. Операция одобрена банком."; в базе данных в таблице payment_entity значение status:APPROVED
4. Обычная оплата по дебетовой карте со статусом "DECLINED" и, введенными в форму, валидными значениями. **Ожидаемый результат:** появление в браузере информационного сообщения "Ошибка! Банк отказал в проведении операции."; в базе данных в таблице payment_entity значение status:DECLINED
5. Отображение в СУБД корректной суммы, при оплате по дебетовой карте со статусом "APPROVED" и, введенными в форму, валидными значениями. **Ожидаемый результат:** Кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки; В правом верхнем углу появляется всплывающее окно с сообщением "Операция одобрена Банком";В таблице СУБД «payment_entity», в столбце «amount», отображается корректная сумма - '45000'.
6. Корректная загрузка формы "Кредит по данным карты". **Ожидаемый результат:** Во вкладке "Купить в кредит" появилась форма для заполнения с заголовком "Кредит по данным карты".
7. Выдача кредита по данным банковской карты со статусом "APPROVED" и, введенными в форму, валидными значениями. **Ожидаемый результат:** Кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки; В правом верхнем углу появляется всплывающее окно с сообщением "Операция одобрена Банком".
8. Выдача кредита по данным банковской карты со статусом "DECLINED" и, введенными в форму, валидными значениями. **Ожидаемый результат:** Кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки; В правом верхнем углу появляется всплывающее окно с сообщением "Ошибка! Банк отказал в проведении операции".

### Негативный сценарий для форм "Оплата по карте" и "Кредит по данным карты"
1. Отправка пустой формы (нажать кнопку "Купить" -> нажать кнопку "Продолжить"). **Ожидаемый результат:** появление под всеми полями надписи "Поле обязательно для заполнения"
##### Поле "Номер карты"
1. Незаполненное поле. **Ожидаемый результат:** появление под полем надписи "Поле обязательно для заполнения"
2. Заполнение поля номером менее 16 цифр, например 1234 1234 1234 123. **Ожидаемый результат:** появление под тестируемым полем надписи "Неверный формат"
3. Заполнение поля номером более 16 цифр, например 1234 1234 1234 1234 123. **Ожидаемый результат:** ограничение ввода большего числа цифр
4. Заполнение поля специальными символами, например #!=* ?%&! $*#! :-@+. **Ожидаемый результат:** запрет ввода специальных символов
5. Заполнение поля буквами, например "abcd efgh ijkl mnop". **Ожидаемый результат:** запрет ввода букв
6. Обычная оплата по дебетовой карте с невалидным номером карты **Ожидаемый результат:** Кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки; В правом верхнем углу появляется всплывающее окно с сообщением "Ошибка! Банк отказал в проведении операции".
##### Поле "Месяц"
1. Незаполненное поле. **Ожидаемый результат:** появление под полем надписи "Поле обязательно для заполнения"
2. Заполнение поля невалидным числом вне диапазона, например "00", "13". **Ожидаемый результат:** появление под тестируемым полем надписи "Неверно указан срок действия карты"
3. Заполнение поля одной цифрой, например "4". **Ожидаемый результат:** появление под тестируемым полем надписи "Неверный формат"
4. Заполнение поля буквами, например "ab". **Ожидаемый результат:** запрет ввода букв
5. Заполнение поля специальными символами, например "-#" или "!@". **Ожидаемый результат:** запрет ввода специальных символов
##### Поле "Год"
1. Незаполненное поле. **Ожидаемый результат:** появление под полем надписи "Поле обязательно для заполнения"
2. Заполнение поля одной цифрой, например "2". **Ожидаемый результат:** появление под тестируемым полем надписи "Неверный формат"
3. Заполнение поля истекшим годом, например "21". **Ожидаемый результат:** появление под тестируемым полем надписи "Истёк срок действия карты"
4. Заполнение поля годом больше текущего на 10 лет, например "33". **Ожидаемый результат:** появление под тестируемым полем надписи "Неверно указан срок действия карты"
5. Заполнение поля нолями (00). **Ожидаемый результат:** появление под тестируемым полем надписи "Истёк срок действия карты"
6. Заполнение поля буквами, например, "ab". **Ожидаемый результат:** запрет ввода букв
7. Заполнение поля специальными символами, например "+%" или "#:". **Ожидаемый результат:** запрет ввода специальных символов
##### Поле "Владелец"
1. Незаполненное поле. **Ожидаемый результат:** появление под полем надписи "Поле обязательно для заполнения"
2. Заполнение поля количеством символов менее допустимого диапазона (2-26 знаков, включая пробелы), например "A". **Ожидаемый результат:** появление под тестируемым полем надписи "Неверный формат"
3. Заполнение поля количеством символов более допустимого диапазона, например "Barnaby Marmaduke Aloysius Benji Cobweb Dartanian Egbert Felix Gaspard Humbert Ignatius Jayden Casper Leroy Maximilian Neddy Obyahulu Pepin Qulliam Rosencrantz". **Ожидаемый результат:** ограничение ввода количества знаков допустимым значением
4. Заполнение поля кириллицей, например "Иванов Иван". **Ожидаемый результат:** появление под тестируемым полем надписи "Неверный формат"
5. Заполнение поля одним именем, например "Anna". **Ожидаемый результат:** появление под тестируемым полем надписи "Неверный формат"
6. Заполнение поля цифрами, например "1234 5678". **Ожидаемый результат:** запрет ввода цифр
7. Заполнение поля специальными символами, например "@!?#$&*-/". **Ожидаемый результат:** запрет ввода специальных символов
8. Заполнение поля с использованием двойной фамилии с дефисом, например "Dmitry Mamin-Sibiriak". **Ожидаемый результат:** запрет ввода фамилии через дефис
##### Поле "CVC/CVV"
1. Незаполненное поле. **Ожидаемый результат:** появление под полем надписи "Поле обязательно для заполнения"
3. Заполнение поля буквами, например "abc". **Ожидаемый результат:** запрет ввода букв
4. Заполнение поля специальными символами, например "!@#". **Ожидаемый результат:** запрет ввода специальных символов
5. Заполнение поля одной цифрой, например "6". **Ожидаемый результат:** появление под тестируемым полем надписи "Неверный формат"
6. Заполнение поля четырьмя цифрами, например "1234". **Ожидаемый результат:** ограничение ввода большего числа цифр

> Примечание: при тестировании одного из полей все остальные поля заполняются валидными значениями.
## Используемые инструменты
1. **IntelliJ IDEA (Community Edition)** - интегрированная среда разработки программного обеспечения для многих языков программирования, в частности Java, JavaScript, Python
2. **Java 11** - 11-я версия строго типизированного объектно-ориентированного языка программирования общего назначения
3. **Docker** - это платформа для разработки и запуска контейнеров. Докер позволяет создавать контейнеры, автоматизирует их запуск и управляет жизненным циклом.
4. **JUnit 5** - фреймворк для модульного тестирования программного обеспечения на языке Java
5. **Selenide** - фреймворк для автоматизированного тестирования веб-приложений на основе Selenium WebDriver
6. **Project Lombok** - библиотека с открытым исходным кодом, которая используется для сокращения стандартного кода в классах Java. Это достигается путем замены многих повторяющихся фрагментов кода простыми и краткими аннотациями
7. **JavaFaker** - библиотека, позволяющая генерировать случайные данные
8. **Apache Commons DBUtils** - библиотека, представляющая собой набор служебных классов Java для облегчения разработки JDBC
9. **Allure** - это фреймворк для сбора данных и построения отчетов о тестировании кода
## Возможные риски при автоматизации
1. Сложности с первым запуском SUT и БД
2. Сбои в работе ПО, установленного на ПК, либо аппаратных компонентов ПК, их выход из строя
3. Временный сбой в работе удаленного сервера (банковских сервисов)
4. Необходимость получения новой информации и знаний об элементах SUT или инструментах тестирования
5. Ошибки при сохранении результата работы на локальном диске и/или в удаленном репозитории, ошибки отката к предыдущим коммитам
6. Блокировка доступа к отдельным плагинам, ПО, сервисам для пользователей из РФ
7. Актуализация тестов из-за изменений в SUT

## Интервальная оценка с учётом рисков
1. Изучение задания, подготовка проекта, изучение сторонней информации (ознакомление с ISO/IEC 7813) запуск SUT - 15ч
2. Написание плана тестирования - 3ч
3. Написание тестов - от 24ч до 48ч при возникновении сложностей
4. Написание отчетов о тестировании - 3ч
5. Написание отчетов об автоматизации - 3ч
6. Дополнительно заложено 8ч на поиск и оформление багов, решение возникших вопросов, трудности с запуском SUT и т.д.

Итого на автоматизацию тестирования комплексного сервиса планируется затратить от 48ч до 80ч

## План сдачи работ
1. Написание плана тестирования - 12.01.2023
2. Написание автотестов - от 3 до 6 дней после согласования плана тестирования - 15.01.2023 - 18.01.2023
3. Написание отчетов о тестировании и автоматизации - 1 день после написания автотестов - 16.01.2023 - 19.01.2023
